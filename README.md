# 狗狗品種圖庫

一個現代化、響應式的網頁應用程式，用於瀏覽狗狗品種和圖片，具有優化效能與使用者體驗的進階功能。

## 如何使用本專案

### 安裝與啟動

1. 專案到本地：

   ```bash
   git clone [[專案庫網址]](https://github.com/Kenny-Snub-Nose-Monk/dog-collections.git)
   cd dog-breed-gallery
   ```

2. 安裝依賴：

   ```bash
   pnpm install
   ```

3. 啟動開發服務器：

   ```bash
   pnpm dev
   ```

4. 開啟瀏覽器訪問 `http://localhost:3000`

### 基本操作

- **瀏覽品種**：主頁面上顯示所有狗狗品種，可直接點擊查看
- **搜尋品種**：使用頁面上方的搜尋框，輸入關鍵詞尋找特定品種
- **查看詳情**：點擊品種卡片進入詳細頁面，顯示該品種的多張圖片
- **圖片瀏覽**：在詳細頁面可使用左右箭頭鍵或點擊導航按鈕切換圖片
- **分享功能**：使用「Woof! Share」按鈕可分享當前頁面到 X.com 或 Threads
- **複製連結**：點擊「Copy Link」按鈕可快速複製當前頁面網址

## 功能特點

### 核心功能

- 瀏覽全面的狗狗品種列表
- 按名稱搜尋和過濾品種
- 查看每個品種的詳細圖片庫
- 帶有鍵盤導航的互動式圖片輪播
- 適應所有裝置尺寸的響應式設計

### 效能優化

- **快取系統**：基於本地存儲的品種列表和圖片快取
  - 24 小時快取過期
  - 快取狀態指示器
  - 離線時回退到快取數據
- **延遲加載**：圖片僅在滾動到視圖中時加載
  - 自定義 Intersection Observer 鉤子
  - 加載中佔位元素
  - 圖片加載追蹤
- **去抖動**：搜尋輸入去抖動以防止過多的 API 呼叫
  - 300ms 延遲以達到最佳效能
  - 視覺搜尋狀態指示器

### 使用者體驗增強

- **URL 參數同步**：在導航過程中保持狀態
  - 搜尋查詢在頁面之間保持
  - 所選圖片索引保留在 URL 中
  - 瀏覽器歷史整合
- **錯誤處理**：
  - 友好的錯誤訊息
  - 自動重試機制
  - API 呼叫失敗時回退到快取數據
  - 離線檢測和通知
- **加載狀態**：
  - 品種列表的骨架屏幕
  - 圖片網格的骨架屏幕
  - 加載佔位符的微光動畫
- **視覺反饋**：
  - 網絡狀態指示器
  - 快取狀態通知
  - 搜尋效能指標
  - 圖片加載追蹤

### 社交分享功能

- 支援分享至 X.com (Twitter)
- 支援分享至 Threads
- 一鍵複製連結功能
- 自適應不同瀏覽器環境的分享實現

### 無障礙功能

- 圖片輪播的鍵盤導航
  - 左/右箭頭用於上一個/下一個圖片
  - ESC 鍵關閉
  - 視覺鍵盤導航提示
- 適當的焦點管理
- 語義化 HTML 結構
- 互動元素的 ARIA 屬性

## 技術實現

### 快取

- 使用 localStorage 實現的強大快取系統
- 品種列表和特定品種圖片的快取鍵
- 24 小時後自動快取失效
- 顯示正在使用快取數據的快取狀態指示器

### 延遲加載

- 自定義 `useIntersectionObserver` 鉤子，用於檢測元素何時進入視口
- 僅在變為可見時才加載圖片的 `LazyImage` 組件
- 帶微光效果的加載佔位符
- 圖片加載追蹤以監控加載進度

### 去抖動

- 自定義 `useDebounce` 鉤子，防止過多的 API 呼叫
- 去抖動活動時的視覺指示器
- 優化搜尋體驗，最小化 API 請求

### URL 參數管理

- 自定義 `useUrlSearchParams` 鉤子，用於管理 URL 參數
- 在導航過程中保留搜尋狀態
- 支持分享特定視圖的深度連結
- 無頁面重載的瀏覽器歷史整合

### 錯誤處理

- 全面的錯誤邊界實現
- 不同錯誤類型的友好錯誤訊息
- 自動重試機制
- API 呼叫失敗時回退到快取數據
- 離線檢測和適當的消息提示

### 加載狀態

- 初始加載的骨架屏幕
- 特定組件的加載指示器
- 加載和已加載狀態之間的平滑過渡

## 效能考量

- 最小化不必要的重新渲染
- 優化狀態管理
- 高效的數據獲取與適當的快取
- 通過延遲加載優化圖片
- 去抖動用戶輸入以減少處理
- 離線使用的回退機制

## 未來改進

- 修改 fetch API 的設計，轉為 Next.js API Routes
  - 整合後端資料處理邏輯
  - 增強 API 安全性與效能
  - 實現更有效的伺服器端快取
- 導入 React Zustand 狀態管理
  - 替換現有狀態管理方案
  - 實現更輕量且高效的全局狀態
  - 優化元件間的資料共享
- 搜尋功能增強
  - 實現自動完成功能
  - 保存搜尋歷史記錄
  - 提供熱門搜尋建議
- 語音搜尋功能
  - 支援語音輸入尋找狗狗品種
  - 多語言語音識別支援
  - 語音命令導航
- 狗狗品種詳細介紹
  - 增加品種特性、性格、照護知識
  - 適合家庭、適應環境等資訊
  - 品種歷史與起源
- AI 視覺辨識器
  - 上傳圖片辨識狗狗品種
  - 即時相機辨識功能
  - 相似品種比對與推薦
- 品種收藏功能
  - 用戶帳戶系統整合，支援保存最愛品種
  - 建立個人收藏頁面，快速訪問喜愛的狗狗品種
  - 收藏品種的新圖片更新通知
  - 根據收藏數據提供個性化推薦

- 圖片下載功能
  - 支援單張圖片與批量下載選項
  - 多種解析度選擇(原始尺寸、高清、壓縮版)
  - 圖片加入浮水印與來源資訊選項
  - 儲存為桌布/螢幕保護程式的最佳化尺寸

- 社交分享整合
  - 擴展分享平台支援(Facebook、Instagram、LINE等)
  - 自訂分享內容與圖片預覽
  - 社群互動功能，如留言、評分系統
  - 透過社交媒體一鍵登入功能

- 無障礙改進
  - 符合WCAG 2.1 AA標準的完整無障礙支援
  - 螢幕閱讀器最佳化與語音導航
  - 高對比度模式與自訂字體大小
  - 鍵盤完全訪問與導航支援
  - 色盲友好配色方案

- 國際化支持
  - 多語言介面(英文、中文、日文、西班牙文等)
  - 本地化內容與狗狗品種在各地區的稱呼
  - 自動語言檢測與用戶語言偏好設置
  - RTL語言支援(如阿拉伯語、希伯來語)
  - 地區特定內容與資訊呈現

## 技術棧

- Next.js (App Router)
- React (客戶端組件)
- TypeScript
- Tailwind CSS
- Intersection Observer API
- 瀏覽器存儲 API
- Dog CEO API
